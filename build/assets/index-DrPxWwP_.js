import{aa as C,r,j as e,G as p,q as w,p as i,e as g,U as q,aA as A,az as S,aB as G,s as E,v as R,w as I,aC as U,I as B,C as K,m as L,b as P,a2 as k,a3 as H,a4 as M,d as V,D as T}from"./index-BEfPUQd3.js";import{u as D}from"./gopas.queries-jntJAyfW.js";const o={totalAssignedRequests:156,totalUnassignedRequests:43,completedRequests:89};function Q(){const n=C(),[l,h]=r.useState(""),{data:t,isLoading:d,isError:f}=D(),c=r.useMemo(()=>(t==null?void 0:t.data)||[],[t==null?void 0:t.data]),m=r.useCallback(s=>{n(`/order-management/orders/gopas/${s}/requests`)},[n]),x=r.useCallback(s=>{n(`/order-management/orders/gopas/${s}/history`)},[n]),j=c.filter(s=>s.name.toLowerCase().includes(l.toLowerCase())||s.email.toLowerCase().includes(l.toLowerCase())),b=r.useMemo(()=>[{header:"Serial Number",accessorKey:"id",cell:({row:s})=>e.jsxs("span",{className:"text-xs font-medium",children:["#",s.index+1]})},{header:"Gopa Name",accessorKey:"name",cell:({row:s})=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-sm",children:s.original.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:s.original.email})]})},{header:"Phone Number",accessorKey:"phoneNumber",cell:({row:s})=>e.jsx("span",{className:"text-xs font-medium",children:s.original.phoneNumber})},{header:"Specialties",accessorKey:"gopa.Specialties",cell:({row:s})=>{var u;const a=((u=s.original.gopa)==null?void 0:u.Specialties)||[];return e.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.slice(0,2).map((y,v)=>e.jsx(p,{variant:"secondary",className:"text-xs",children:y},v)),a.length>2&&e.jsxs(p,{variant:"outline",className:"text-xs",children:["+",a.length-2]})]})}},{header:"Date Added",accessorKey:"createdAt",cell:({row:s})=>e.jsx("span",{className:"text-xs font-medium",children:w(new Date(s.original.createdAt),"dd/MM/yyyy HH:mm:ss a")})},{header:"Verification Status",accessorKey:"verificationStatus",cell:({row:s})=>{const a=s.original.verificationStatus===1;return e.jsxs("span",{className:i("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",a?"bg-green-100 text-green-800 border border-green-200":"bg-yellow-100 text-yellow-800 border border-yellow-200"),children:[e.jsx("span",{className:i("w-1.5 h-1.5 rounded-full mr-1.5",a?"bg-green-400":"bg-yellow-400")}),e.jsx("span",{className:"text-xs font-medium",children:a?"Verified":"Pending"})]})}},{header:"Status",accessorKey:"status",cell:({row:s})=>{const a=s.original.status===1;return e.jsxs("span",{className:i("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",a?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"),children:[e.jsx("span",{className:i("w-1.5 h-1.5 rounded-full mr-1.5",a?"bg-green-400":"bg-red-400")}),e.jsx("span",{className:"text-xs font-medium",children:a?"Active":"Inactive"})]})}},{header:"Actions",accessorKey:"actions",cell:({row:s})=>e.jsx("div",{className:"flex flex-col space-y-1",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(g,{variant:"outline",size:"sm",className:"border-[#4A36EC] text-[#4A36EC] hover:bg-[#4A36EC] hover:text-white text-xs px-2 py-1",onClick:()=>m(s.original.gopa.Gopa_ID),children:"Requests"}),e.jsx(g,{variant:"outline",size:"sm",className:"border-[#F59E0B] text-[#F59E0B] hover:bg-[#F59E0B] hover:text-white text-xs px-2 py-1",onClick:()=>x(s.original.gopa.Gopa_ID),children:"History"})]})})}],[m,x]),N=[{title:"Total Gopas",value:c.length,Icon:q,description:"Registered gopas",trend:"+5.2%",trendUp:!0},{title:"Assigned Requests",value:o.totalAssignedRequests,Icon:A,description:"Currently assigned requests",trend:"+8.3%",trendUp:!0},{title:"Unassigned Requests",value:o.totalUnassignedRequests,Icon:S,description:"Pending assignment requests",trend:"-2.1%",trendUp:!1},{title:"Completed Requests",value:o.completedRequests,Icon:G,description:"Successfully completed requests",trend:"+12.5%",trendUp:!0}];return d?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4A36EC] mx-auto"}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading gopas..."})]})}):f?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 font-medium",children:"Error loading gopas"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please try again later"})]})}):e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsx(E,{items:R.threeTier("Order Management","/order-management/orders","Gopas")}),e.jsx(I,{title:"Gopas",description:"View and manage gopa assignments and request history",actions:e.jsxs("div",{className:"relative w-72",children:[e.jsx(U,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(B,{placeholder:"Search gopas...",className:"pl-8",value:l,onChange:s=>h(s.target.value)})]})}),e.jsx(K,{cards:N}),e.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:e.jsxs(P,{children:[e.jsxs(k,{children:[e.jsx(H,{className:"text-lg font-semibold text-[#4A36EC]",children:"Gopas Management"}),e.jsx(M,{children:"Manage gopa assignments and track their request handling performance"})]}),e.jsx(V,{children:e.jsx(T,{data:j,columns:b,loading:d,tableStyle:"border rounded-lg bg-white",tableHeadClassName:"text-[#4A36EC] font-semibold"})})]})})]})}export{Q as default};
