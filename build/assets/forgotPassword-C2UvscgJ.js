import{e as r,A as l,j as e,m as o,a as n,G as c,t as d}from"./index-C2Q_LmeJ.js";import{u as m}from"./useMutation-TZLAPFAD.js";import{s as u,o as x,a as y}from"./index-DyAPY9a1.js";import{u as p,F as h,b as f,c as g,d as j,g as w,e as N,f as b}from"./form-CcMvRR1f.js";import{I as P}from"./input-fvZZM-h7.js";import"./utils-km2FGkQ4.js";const i=l.AUTH;class S{static async forgotPassword(s){return r.post(`${i.FORGOT_PASSWORD}`,{email:s})}static async resetPassword(s,a){return r.post(`${i.RESET_PASSWORD}`,{token:s,password:a})}static async changePassword(s,a){return r.post(`${i.CHANGE_PASSWORD}`,{oldPassword:s,newPassword:a})}}const F=()=>m({mutationFn:t=>S.forgotPassword(t)}),v=x({email:y().email("Please enter a valid email address")});function A({onSubmit:t}){const s=p({resolver:u(v),defaultValues:{email:""}});return e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"w-full",children:e.jsx(h,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(t),className:"space-y-6",children:[e.jsx(f,{control:s.control,name:"email",render:({field:a})=>e.jsxs(g,{children:[e.jsx(j,{className:"text-foreground",children:"Email"}),e.jsx(w,{className:"text-muted-foreground",children:"Enter your email address and we'll send you a link to reset your password."}),e.jsx(N,{children:e.jsx(P,{placeholder:"Enter your email",className:"bg-input text-foreground placeholder:text-muted-foreground",...a})}),e.jsx(b,{className:"text-destructive"})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{type:"submit",className:"w-full bg-secondary hover:bg-secondary-light text-secondary-foreground",children:"Send Reset Link"}),e.jsx(n,{type:"button",variant:"outline",className:"w-full hover:bg-muted",onClick:()=>window.history.back(),children:"Back to Login"})]})]})})})}function I(){const{mutateAsync:t}=F(),s=async a=>{await t(a.email),d.success("Password reset email sent")};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs(o.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:"w-full max-w-md space-y-8 p-8 bg-card rounded-[--radius] shadow-lg",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs(o.div,{initial:{y:-20},animate:{y:0},transition:{duration:.5,delay:.2},className:"flex items-center gap-2",children:[e.jsx(c,{className:"w-16 h-16"}),e.jsx("h1",{className:"text-3xl font-bold text-secondary",children:"SpePas"})]}),e.jsx(o.h2,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-6 text-3xl font-bold text-foreground",children:"Reset Password"}),e.jsx(o.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"mt-2 text-sm text-muted-foreground text-center",children:"Don't worry! It happens. Please enter the email address associated with your account."})]}),e.jsx(A,{onSubmit:s})]})})}export{I as default};
