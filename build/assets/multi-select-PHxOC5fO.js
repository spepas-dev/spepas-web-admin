import{r as x,j as e,P as $,g as l,a as K,af as F,s as y,h as w}from"./index-Cx3yMQ3f.js";import{B as S}from"./badge-BQaAw9nc.js";import{P as L,a as W,b as X,C as G,c as U,d as q,e as H,f as C,g as p,h as J}from"./popover-CAKtuJnK.js";import{C as P,W as Q}from"./wand-sparkles-DkqZMXu_.js";import{X as Y}from"./x-45uRG9y6.js";var Z="Separator",k="horizontal",ee=["horizontal","vertical"],I=x.forwardRef((a,n)=>{const{decorative:i,orientation:c=k,...g}=a,o=re(c)?c:k,j=i?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx($.div,{"data-orientation":o,...j,...g,ref:n})});I.displayName=Z;function re(a){return ee.includes(a)}var se=I;function O({className:a,orientation:n="horizontal",decorative:i=!0,...c}){return e.jsx(se,{"data-slot":"separator-root",decorative:i,orientation:n,className:l("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...c})}const E=F("m-1 transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 duration-300",{variants:{variant:{default:"border-foreground/10 text-foreground bg-card hover:bg-card/80",secondary:"border-foreground/10 bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",inverted:"inverted"}},defaultVariants:{variant:"default"}}),te=x.forwardRef(({options:a,onValueChange:n,variant:i,defaultValue:c=[],placeholder:g="Select options",animation:o=0,maxCount:d=3,modalPopover:j=!1,asChild:ae=!1,className:A,...T},D)=>{const[t,m]=x.useState(c),[R,u]=x.useState(!1),[h,z]=x.useState(!1),V=r=>{if(r.key==="Enter")u(!0);else if(r.key==="Backspace"&&!r.currentTarget.value){const s=[...t];s.pop(),m(s),n(s)}},N=r=>{const s=t.includes(r)?t.filter(f=>f!==r):[...t,r];m(s),n(s)},v=()=>{m([]),n([])},B=()=>{u(r=>!r)},M=()=>{const r=t.slice(0,d);m(r),n(r)},_=()=>{if(t.length===a.length)v();else{const r=a.map(s=>s.value);m(r),n(r)}};return e.jsxs(L,{open:R,onOpenChange:u,modal:j,children:[e.jsx(W,{asChild:!0,children:e.jsx(K,{ref:D,...T,onClick:B,className:l("flex w-full p-1 rounded-md border min-h-10 h-auto items-center justify-between bg-inherit hover:bg-inherit [&_svg]:pointer-events-auto",A),children:t.length>0?e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsxs("div",{className:"flex flex-wrap items-center",children:[t.slice(0,d).map(r=>{const s=a.find(b=>b.value===r),f=s==null?void 0:s.icon;return e.jsxs(S,{className:l(h?"animate-bounce":"",E({variant:i})),style:{animationDuration:`${o}s`},children:[f&&e.jsx(f,{className:"h-4 w-4 mr-2"}),s==null?void 0:s.label,e.jsx(P,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:b=>{b.stopPropagation(),N(r)}})]},r)}),t.length>d&&e.jsxs(S,{className:l("bg-transparent text-foreground border-foreground/1 hover:bg-transparent",h?"animate-bounce":"",E({variant:i})),style:{animationDuration:`${o}s`},children:[`+ ${t.length-d} more`,e.jsx(P,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:r=>{r.stopPropagation(),M()}})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Y,{className:"h-4 mx-2 cursor-pointer text-muted-foreground",onClick:r=>{r.stopPropagation(),v()}}),e.jsx(O,{orientation:"vertical",className:"flex min-h-6 h-full"}),e.jsx(y,{className:"h-4 mx-2 cursor-pointer text-muted-foreground"})]})]}):e.jsxs("div",{className:"flex items-center justify-between w-full mx-auto",children:[e.jsx("span",{className:"text-sm text-muted-foreground mx-3",children:g}),e.jsx(y,{className:"h-4 cursor-pointer text-muted-foreground mx-2"})]})})}),e.jsx(X,{className:"w-auto p-0",align:"start",onEscapeKeyDown:()=>u(!1),children:e.jsxs(G,{children:[e.jsx(U,{placeholder:"Search...",onKeyDown:V}),e.jsxs(q,{children:[e.jsx(H,{children:"No results found."}),e.jsxs(C,{children:[e.jsxs(p,{onSelect:_,className:"cursor-pointer",children:[e.jsx("div",{className:l("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",t.length===a.length?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(w,{className:"h-4 w-4"})}),e.jsx("span",{children:"(Select All)"})]},"all"),a.map(r=>{const s=t.includes(r.value);return e.jsxs(p,{onSelect:()=>N(r.value),className:"cursor-pointer",children:[e.jsx("div",{className:l("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",s?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(w,{className:"h-4 w-4"})}),r.icon&&e.jsx(r.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:r.label})]},r.value)})]}),e.jsx(J,{}),e.jsx(C,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[t.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(p,{onSelect:v,className:"flex-1 justify-center cursor-pointer",children:"Clear"}),e.jsx(O,{orientation:"vertical",className:"flex min-h-6 h-full"})]}),e.jsx(p,{onSelect:()=>u(!1),className:"flex-1 justify-center cursor-pointer max-w-full",children:"Close"})]})})]})]})}),o>0&&t.length>0&&e.jsx(Q,{className:l("cursor-pointer my-2 text-foreground bg-background w-3 h-3",h?"":"text-muted-foreground"),onClick:()=>z(!h)})]})});te.displayName="MultiSelect";export{te as M};
