import{c as $,r as u,j as e,Q as B,R as K,e as R,p as a,G as b,bg as X,bf as G,bh as v,T as H,V as W,X as q,Y as z,Z as F,_ as y,$ as h,a0 as N,bi as Q}from"./index-BEfPUQd3.js";import{S as w}from"./separator-DpEqoi9c.js";import{C as S}from"./circle-x-Bb9PP882.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Z=$("WandSparkles",Y),k=X("m-1 transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 duration-300",{variants:{variant:{default:"border-foreground/10 text-foreground bg-card hover:bg-card/80",secondary:"border-foreground/10 bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",inverted:"inverted"}},defaultVariants:{variant:"default"}}),J=u.forwardRef(({options:n,onValueChange:l,variant:g,defaultValue:C=[],placeholder:M="Select options",animation:x=0,maxCount:i=3,modalPopover:P=!1,asChild:U=!1,className:I,...D},E)=>{const[t,o]=u.useState(C),[_,c]=u.useState(!1),[d,O]=u.useState(!1),V=s=>{if(s.key==="Enter")c(!0);else if(s.key==="Backspace"&&!s.currentTarget.value){const r=[...t];r.pop(),o(r),l(r)}},j=s=>{const r=t.includes(s)?t.filter(m=>m!==s):[...t,s];o(r),l(r)},p=()=>{o([]),l([])},A=()=>{c(s=>!s)},L=()=>{const s=t.slice(0,i);o(s),l(s)},T=()=>{if(t.length===n.length)p();else{const s=n.map(r=>r.value);o(s),l(s)}};return e.jsxs(B,{open:_,onOpenChange:c,modal:P,children:[e.jsx(K,{asChild:!0,children:e.jsx(R,{ref:E,...D,onClick:A,className:a("flex w-full p-1 rounded-md border min-h-10 h-auto items-center justify-between bg-inherit hover:bg-inherit [&_svg]:pointer-events-auto",I),children:t.length>0?e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsxs("div",{className:"flex flex-wrap items-center",children:[t.slice(0,i).map(s=>{const r=n.find(f=>f.value===s),m=r==null?void 0:r.icon;return e.jsxs(b,{className:a(d?"animate-bounce":"",k({variant:g})),style:{animationDuration:`${x}s`},children:[m&&e.jsx(m,{className:"h-4 w-4 mr-2"}),r==null?void 0:r.label,e.jsx(S,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:f=>{f.stopPropagation(),j(s)}})]},s)}),t.length>i&&e.jsxs(b,{className:a("bg-transparent text-foreground border-foreground/1 hover:bg-transparent",d?"animate-bounce":"",k({variant:g})),style:{animationDuration:`${x}s`},children:[`+ ${t.length-i} more`,e.jsx(S,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:s=>{s.stopPropagation(),L()}})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(G,{className:"h-4 mx-2 cursor-pointer text-muted-foreground",onClick:s=>{s.stopPropagation(),p()}}),e.jsx(w,{orientation:"vertical",className:"flex min-h-6 h-full"}),e.jsx(v,{className:"h-4 mx-2 cursor-pointer text-muted-foreground"})]})]}):e.jsxs("div",{className:"flex items-center justify-between w-full mx-auto",children:[e.jsx("span",{className:"text-sm text-muted-foreground mx-3",children:M}),e.jsx(v,{className:"h-4 cursor-pointer text-muted-foreground mx-2"})]})})}),e.jsx(H,{className:"w-auto p-0",align:"start",onEscapeKeyDown:()=>c(!1),children:e.jsxs(W,{children:[e.jsx(q,{placeholder:"Search...",onKeyDown:V}),e.jsxs(z,{children:[e.jsx(F,{children:"No results found."}),e.jsxs(y,{children:[e.jsxs(h,{onSelect:T,className:"cursor-pointer",children:[e.jsx("div",{className:a("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",t.length===n.length?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(N,{className:"h-4 w-4"})}),e.jsx("span",{children:"(Select All)"})]},"all"),n.map(s=>{const r=t.includes(s.value);return e.jsxs(h,{onSelect:()=>j(s.value),className:"cursor-pointer",children:[e.jsx("div",{className:a("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",r?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(N,{className:"h-4 w-4"})}),s.icon&&e.jsx(s.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.label})]},s.value)})]}),e.jsx(Q,{}),e.jsx(y,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[t.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(h,{onSelect:p,className:"flex-1 justify-center cursor-pointer",children:"Clear"}),e.jsx(w,{orientation:"vertical",className:"flex min-h-6 h-full"})]}),e.jsx(h,{onSelect:()=>c(!1),className:"flex-1 justify-center cursor-pointer max-w-full",children:"Close"})]})})]})]})}),x>0&&t.length>0&&e.jsx(Z,{className:a("cursor-pointer my-2 text-foreground bg-background w-3 h-3",d?"":"text-muted-foreground"),onClick:()=>O(!d)})]})});J.displayName="MultiSelect";export{J as M};
