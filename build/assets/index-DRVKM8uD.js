import{aa as b,r as l,j as s,q as y,p as c,e as u,aA as j,aB as S,az as N,s as C,v as _,w as A,aC as E,I,C as B,m as D,D as O}from"./index-BEfPUQd3.js";import{u as T}from"./sellers.queries-BqwXXlKu.js";import{U as w}from"./user-NtLM3mmy.js";const r=[{id:1,Seller_ID:"3fa85f64-5717-4562-b3fc-2c963f66afa6",storeName:"AutoParts Pro",business_reg_url:"https://example.com/business-reg",business_reg_obj:{},Location:{type:"Point",coordinates:[37.7749,-122.4194]},Gopa_ID:"3fa85f64-5717-4562-b3fc-2c963f66afa6",date_added:"2025-01-15T10:30:00.510Z",status:1,stats:{totalOrders:45,activeBids:12,completedOrders:33,totalRevenue:5678.9}},{id:2,Seller_ID:"4fa85f64-5717-4562-b3fc-2c963f66afa7",storeName:"Engine Essentials",business_reg_url:"https://example.com/business-reg-2",business_reg_obj:{},Location:{type:"Point",coordinates:[37.7833,-122.4167]},Gopa_ID:"4fa85f64-5717-4562-b3fc-2c963f66afa7",date_added:"2025-01-16T11:30:00.510Z",status:1,stats:{totalOrders:32,activeBids:8,completedOrders:24,totalRevenue:4321.5}}];function P(){const d=b(),[i,m]=l.useState(""),{data:t,isLoading:o,isError:p}=T(),n=l.useMemo(()=>(t==null?void 0:t.data)||[],[t==null?void 0:t.data]);console.log("sellers",n);const g=e=>{d(`/order-management/orders/sellers/${e}/active-bids`)},x=e=>{d(`/order-management/orders/sellers/${e}/request-history`)},h=n.filter(e=>e.sellerDetails.storeName.toLowerCase().includes(i.toLowerCase())),f=l.useMemo(()=>[{header:"Serial Number",accessorKey:"id",cell:({row:e})=>s.jsxs("span",{className:"text-xs font-medium",children:["#",e.index+1]})},{header:"Store Name",accessorKey:"sellerDetails.storeName"},{header:"Date Added",accessorKey:"sellerDetails.date_added",cell:({row:e})=>s.jsx("span",{className:"text-xs font-medium",children:y(new Date(e.original.sellerDetails.date_added),"dd/MM/yyyy HH:mm:ss a")})},{header:"Total Orders",accessorKey:"stats.totalOrders"},{header:"Active Bids",accessorKey:"stats.activeBids"},{header:"Completed Orders",accessorKey:"stats.completedOrders"},{header:"Total Revenue",accessorKey:"stats.totalRevenue"},{header:"Status",accessorKey:"status",cell:({row:e})=>s.jsxs("span",{className:c("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",e.original.status===1?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"),children:[s.jsx("span",{className:c("w-1.5 h-1.5 rounded-full mr-1.5",e.original.status===1?"bg-green-400":"bg-red-400")}),s.jsx("span",{className:"text-xs font-medium",children:e.original.status===1?"Active":"Inactive"})]})},{header:"Actions",accessorKey:"actions",cell:({row:e})=>s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(u,{variant:"outline",size:"sm",className:"border-[#4A36EC] text-[#4A36EC] hover:bg-[#4A36EC] hover:text-white",onClick:()=>g(e.original.Seller_ID),children:"Active Bids"}),s.jsx(u,{variant:"outline",size:"sm",className:"border-[#4A36EC] text-[#4A36EC] hover:bg-[#4A36EC] hover:text-white",onClick:()=>x(e.original.Seller_ID),children:"Request History"})]})}],[]),v=[{title:"Total Sellers",value:r.length,Icon:w,description:"Registered sellers",trend:"+5.2%",trendUp:!0},{title:"Active Bids",value:r.reduce((e,a)=>e+a.stats.activeBids,0),Icon:j,description:"Total active bids",trend:"+8.3%",trendUp:!0},{title:"Completed Orders",value:r.reduce((e,a)=>e+a.stats.completedOrders,0),Icon:S,description:"Successfully completed orders",trend:"+5.2%",trendUp:!0},{title:"Total Revenue",value:`GHS ${r.reduce((e,a)=>e+a.stats.totalRevenue,0).toFixed(2)}`,Icon:N,description:"Total revenue from orders",trend:"+12.5%",trendUp:!0}];return o?s.jsx("div",{children:"Loading..."}):p?s.jsx("div",{children:"Error loading sellers"}):s.jsxs("div",{className:"p-8 space-y-8",children:[s.jsx(C,{items:_.threeTier("Order Management","/order-management/orders","Sellers")}),s.jsx(A,{title:"Sellers",description:"View and manage seller orders and bids",actions:s.jsxs("div",{className:"relative w-72",children:[s.jsx(E,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(I,{placeholder:"Search sellers...",className:"pl-8",value:i,onChange:e=>m(e.target.value)})]})}),s.jsx(B,{cards:v}),s.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:s.jsx(O,{data:h,columns:f,loading:o,tableStyle:"border rounded-lg bg-white",tableHeadClassName:"text-[#4A36EC] font-semibold"})})]})}export{P as default};
