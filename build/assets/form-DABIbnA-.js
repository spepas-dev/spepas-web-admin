import{a8 as v,r as fe,j as se,P as $t,g as be,aG as Wt}from"./index-Cx3yMQ3f.js";var Fe=e=>e.type==="checkbox",oe=e=>e instanceof Date,G=e=>e==null;const _t=e=>typeof e=="object";var M=e=>!G(e)&&!Array.isArray(e)&&_t(e)&&!oe(e),mt=e=>M(e)&&e.target?Fe(e.target)?e.target.checked:e.target.value:e,qt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ht=(e,r)=>e.has(qt(r)),Ht=e=>{const r=e.constructor&&e.constructor.prototype;return M(r)&&r.hasOwnProperty("isPrototypeOf")},ze=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function U(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(ze&&(e instanceof Blob||i))&&(t||M(e)))if(r=t?[]:{},!t&&!Ht(e))r=e;else for(const n in e)e.hasOwnProperty(n)&&(r[n]=U(e[n]));else return e;return r}var xe=e=>Array.isArray(e)?e.filter(Boolean):[],C=e=>e===void 0,d=(e,r,t)=>{if(!r||!M(e))return t;const i=xe(r.split(/[,[\].]+?/)).reduce((n,l)=>G(n)?n:n[l],e);return C(i)||i===e?C(e[r])?t:e[r]:i},Y=e=>typeof e=="boolean",Ye=e=>/^\w*$/.test(e),vt=e=>xe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),E=(e,r,t)=>{let i=-1;const n=Ye(r)?[r]:vt(r),l=n.length,f=l-1;for(;++i<l;){const g=n[i];let F=t;if(i!==f){const p=e[g];F=M(p)||Array.isArray(p)?p:isNaN(+n[i+1])?{}:[]}if(g==="__proto__"||g==="constructor"||g==="prototype")return;e[g]=F,e=e[g]}return e};const pe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},J={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ie={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},bt=v.createContext(null),Ae=()=>v.useContext(bt),Gt=e=>{const{children:r,...t}=e;return v.createElement(bt.Provider,{value:t},r)};var Ft=(e,r,t,i=!0)=>{const n={defaultValues:r._defaultValues};for(const l in e)Object.defineProperty(n,l,{get:()=>{const f=l;return r._proxyFormState[f]!==J.all&&(r._proxyFormState[f]=!i||J.all),t&&(t[f]=!0),e[f]}});return n},H=e=>M(e)&&!Object.keys(e).length,xt=(e,r,t,i)=>{t(e);const{name:n,...l}=e;return H(l)||Object.keys(l).length>=Object.keys(r).length||Object.keys(l).find(f=>r[f]===(!i||J.all))},K=e=>Array.isArray(e)?e:[e],At=(e,r,t)=>!e||!r||e===r||K(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i)));function Ee(e){const r=v.useRef(e);r.current=e,v.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function Vt(e){const r=Ae(),{control:t=r.control,disabled:i,name:n,exact:l}=e||{},[f,g]=v.useState(t._formState),F=v.useRef(!0),p=v.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),w=v.useRef(n);return w.current=n,Ee({disabled:i,next:b=>F.current&&At(w.current,b.name,l)&&xt(b,p.current,t._updateFormState)&&g({...t._formState,...b}),subject:t._subjects.state}),v.useEffect(()=>(F.current=!0,p.current.isValid&&t._updateValid(!0),()=>{F.current=!1}),[t]),v.useMemo(()=>Ft(f,t,p.current,!1),[f,t])}var re=e=>typeof e=="string",pt=(e,r,t,i,n)=>re(e)?(i&&r.watch.add(e),d(t,e,n)):Array.isArray(e)?e.map(l=>(i&&r.watch.add(l),d(t,l))):(i&&(r.watchAll=!0),t);function Kt(e){const r=Ae(),{control:t=r.control,name:i,defaultValue:n,disabled:l,exact:f}=e||{},g=v.useRef(i);g.current=i,Ee({disabled:l,subject:t._subjects.values,next:w=>{At(g.current,w.name,f)&&p(U(pt(g.current,t._names,w.values||t._formValues,!1,n)))}});const[F,p]=v.useState(t._getWatch(i,n));return v.useEffect(()=>t._removeUnmounted()),F}function zt(e){const r=Ae(),{name:t,disabled:i,control:n=r.control,shouldUnregister:l}=e,f=ht(n._names.array,t),g=Kt({control:n,name:t,defaultValue:d(n._formValues,t,d(n._defaultValues,t,e.defaultValue)),exact:!0}),F=Vt({control:n,name:t,exact:!0}),p=v.useRef(n.register(t,{...e.rules,value:g,...Y(e.disabled)?{disabled:e.disabled}:{}})),w=v.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!d(F.errors,t)},isDirty:{enumerable:!0,get:()=>!!d(F.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!d(F.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!d(F.validatingFields,t)},error:{enumerable:!0,get:()=>d(F.errors,t)}}),[F,t]),b=v.useMemo(()=>({name:t,value:g,...Y(i)||F.disabled?{disabled:F.disabled||i}:{},onChange:O=>p.current.onChange({target:{value:mt(O),name:t},type:pe.CHANGE}),onBlur:()=>p.current.onBlur({target:{value:d(n._formValues,t),name:t},type:pe.BLUR}),ref:O=>{const k=d(n._fields,t);k&&O&&(k._f.ref={focus:()=>O.focus(),select:()=>O.select(),setCustomValidity:N=>O.setCustomValidity(N),reportValidity:()=>O.reportValidity()})}}),[t,n._formValues,i,F.disabled,g,n._fields]);return v.useEffect(()=>{const O=n._options.shouldUnregister||l,k=(N,$)=>{const q=d(n._fields,N);q&&q._f&&(q._f.mount=$)};if(k(t,!0),O){const N=U(d(n._options.defaultValues,t));E(n._defaultValues,t,N),C(d(n._formValues,t))&&E(n._formValues,t,N)}return!f&&n.register(t),()=>{(f?O&&!n._state.action:O)?n.unregister(t):k(t,!1)}},[t,n,f,l]),v.useEffect(()=>{n._updateDisabledField({disabled:i,fields:n._fields,name:t})},[i,t,n]),v.useMemo(()=>({field:b,formState:F,fieldState:w}),[b,F,w])}const Yt=e=>e.render(zt(e));var Jt=(e,r,t,i,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:n||!0}}:{},ne=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const t=(Math.random()*16+e)%16|0;return(r=="x"?t:t&3|8).toString(16)})},Oe=(e,r,t={})=>t.shouldFocus||C(t.shouldFocus)?t.focusName||`${e}.${C(t.focusIndex)?r:t.focusIndex}.`:"",ve=e=>({isOnSubmit:!e||e===J.onSubmit,isOnBlur:e===J.onBlur,isOnChange:e===J.onChange,isOnAll:e===J.all,isOnTouch:e===J.onTouched}),He=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ce=(e,r,t,i)=>{for(const n of t||Object.keys(e)){const l=d(e,n);if(l){const{_f:f,...g}=l;if(f){if(f.refs&&f.refs[0]&&r(f.refs[0],n)&&!i)return!0;if(f.ref&&r(f.ref,f.name)&&!i)return!0;if(ce(g,r))break}else if(M(g)&&ce(g,r))break}}};var wt=(e,r,t)=>{const i=K(d(e,t));return E(i,"root",r[t]),E(e,t,i),e},Je=e=>e.type==="file",te=e=>typeof e=="function",we=e=>{if(!ze)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Ve=e=>re(e),Qe=e=>e.type==="radio",Se=e=>e instanceof RegExp;const lt={value:!1,isValid:!1},ot={value:!0,isValid:!0};var St=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?ot:{value:e[0].value,isValid:!0}:ot:lt}return lt};const dt={isValid:!1,value:null};var Dt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,dt):dt;function ct(e,r,t="validate"){if(Ve(e)||Array.isArray(e)&&e.every(Ve)||Y(e)&&!e)return{type:t,message:Ve(e)?e:"",ref:r}}var de=e=>M(e)&&!Se(e)?e:{value:e,message:""},Ge=async(e,r,t,i,n,l)=>{const{ref:f,refs:g,required:F,maxLength:p,minLength:w,min:b,max:O,pattern:k,validate:N,name:$,valueAsNumber:q,mount:ee}=e._f,S=d(t,$);if(!ee||r.has($))return{};const Q=g?g[0]:f,X=V=>{n&&Q.reportValidity&&(Q.setCustomValidity(Y(V)?"":V||""),Q.reportValidity())},L={},m=Qe(f),h=Fe(f),x=m||h,I=(q||Je(f))&&C(f.value)&&C(S)||we(f)&&f.value===""||S===""||Array.isArray(S)&&!S.length,P=Jt.bind(null,$,i,L),le=(V,D,T,W=ie.maxLength,Z=ie.minLength)=>{const z=V?D:T;L[$]={type:V?W:Z,message:z,ref:f,...P(V?W:Z,z)}};if(l?!Array.isArray(S)||!S.length:F&&(!x&&(I||G(S))||Y(S)&&!S||h&&!St(g).isValid||m&&!Dt(g).isValid)){const{value:V,message:D}=Ve(F)?{value:!!F,message:F}:de(F);if(V&&(L[$]={type:ie.required,message:D,ref:Q,...P(ie.required,D)},!i))return X(D),L}if(!I&&(!G(b)||!G(O))){let V,D;const T=de(O),W=de(b);if(!G(S)&&!isNaN(S)){const Z=f.valueAsNumber||S&&+S;G(T.value)||(V=Z>T.value),G(W.value)||(D=Z<W.value)}else{const Z=f.valueAsDate||new Date(S),z=_e=>new Date(new Date().toDateString()+" "+_e),ye=f.type=="time",ge=f.type=="week";re(T.value)&&S&&(V=ye?z(S)>z(T.value):ge?S>T.value:Z>new Date(T.value)),re(W.value)&&S&&(D=ye?z(S)<z(W.value):ge?S<W.value:Z<new Date(W.value))}if((V||D)&&(le(!!V,T.message,W.message,ie.max,ie.min),!i))return X(L[$].message),L}if((p||w)&&!I&&(re(S)||l&&Array.isArray(S))){const V=de(p),D=de(w),T=!G(V.value)&&S.length>+V.value,W=!G(D.value)&&S.length<+D.value;if((T||W)&&(le(T,V.message,D.message),!i))return X(L[$].message),L}if(k&&!I&&re(S)){const{value:V,message:D}=de(k);if(Se(V)&&!S.match(V)&&(L[$]={type:ie.pattern,message:D,ref:f,...P(ie.pattern,D)},!i))return X(D),L}if(N){if(te(N)){const V=await N(S,t),D=ct(V,Q);if(D&&(L[$]={...D,...P(ie.validate,D.message)},!i))return X(D.message),L}else if(M(N)){let V={};for(const D in N){if(!H(V)&&!i)break;const T=ct(await N[D](S,t),Q,D);T&&(V={...T,...P(D,T.message)},X(T.message),i&&(L[$]=V))}if(!H(V)&&(L[$]={ref:Q,...V},!i))return L}}return X(!0),L},Re=(e,r)=>[...e,...K(r)],Te=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Ue(e,r,t){return[...e.slice(0,r),...K(t),...e.slice(r)]}var Ne=(e,r,t)=>Array.isArray(e)?(C(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(r,1)[0]),e):[],Pe=(e,r)=>[...K(r),...K(e)];function Qt(e,r){let t=0;const i=[...e];for(const n of r)i.splice(n-t,1),t++;return xe(i).length?i:[]}var je=(e,r)=>C(r)?[]:Qt(e,K(r).sort((t,i)=>t-i)),Be=(e,r,t)=>{[e[r],e[t]]=[e[t],e[r]]};function Xt(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=C(e)?i++:e[r[i++]];return e}function Zt(e){for(const r in e)if(e.hasOwnProperty(r)&&!C(e[r]))return!1;return!0}function R(e,r){const t=Array.isArray(r)?r:Ye(r)?[r]:vt(r),i=t.length===1?e:Xt(e,t),n=t.length-1,l=t[n];return i&&delete i[l],n!==0&&(M(i)&&H(i)||Array.isArray(i)&&Zt(i))&&R(e,t.slice(0,-1)),e}var ft=(e,r,t)=>(e[r]=t,e);function _r(e){const r=Ae(),{control:t=r.control,name:i,keyName:n="id",shouldUnregister:l,rules:f}=e,[g,F]=v.useState(t._getFieldArray(i)),p=v.useRef(t._getFieldArray(i).map(ne)),w=v.useRef(g),b=v.useRef(i),O=v.useRef(!1);b.current=i,w.current=g,t._names.array.add(i),f&&t.register(i,f),Ee({next:({values:m,name:h})=>{if(h===b.current||!h){const x=d(m,b.current);Array.isArray(x)&&(F(x),p.current=x.map(ne))}},subject:t._subjects.array});const k=v.useCallback(m=>{O.current=!0,t._updateFieldArray(i,m)},[t,i]),N=(m,h)=>{const x=K(U(m)),I=Re(t._getFieldArray(i),x);t._names.focus=Oe(i,I.length-1,h),p.current=Re(p.current,x.map(ne)),k(I),F(I),t._updateFieldArray(i,I,Re,{argA:Te(m)})},$=(m,h)=>{const x=K(U(m)),I=Pe(t._getFieldArray(i),x);t._names.focus=Oe(i,0,h),p.current=Pe(p.current,x.map(ne)),k(I),F(I),t._updateFieldArray(i,I,Pe,{argA:Te(m)})},q=m=>{const h=je(t._getFieldArray(i),m);p.current=je(p.current,m),k(h),F(h),!Array.isArray(d(t._fields,i))&&E(t._fields,i,void 0),t._updateFieldArray(i,h,je,{argA:m})},ee=(m,h,x)=>{const I=K(U(h)),P=Ue(t._getFieldArray(i),m,I);t._names.focus=Oe(i,m,x),p.current=Ue(p.current,m,I.map(ne)),k(P),F(P),t._updateFieldArray(i,P,Ue,{argA:m,argB:Te(h)})},S=(m,h)=>{const x=t._getFieldArray(i);Be(x,m,h),Be(p.current,m,h),k(x),F(x),t._updateFieldArray(i,x,Be,{argA:m,argB:h},!1)},Q=(m,h)=>{const x=t._getFieldArray(i);Ne(x,m,h),Ne(p.current,m,h),k(x),F(x),t._updateFieldArray(i,x,Ne,{argA:m,argB:h},!1)},X=(m,h)=>{const x=U(h),I=ft(t._getFieldArray(i),m,x);p.current=[...I].map((P,le)=>!P||le===m?ne():p.current[le]),k(I),F([...I]),t._updateFieldArray(i,I,ft,{argA:m,argB:x},!0,!1)},L=m=>{const h=K(U(m));p.current=h.map(ne),k([...h]),F([...h]),t._updateFieldArray(i,[...h],x=>x,{},!0,!1)};return v.useEffect(()=>{if(t._state.action=!1,He(i,t._names)&&t._subjects.state.next({...t._formState}),O.current&&(!ve(t._options.mode).isOnSubmit||t._formState.isSubmitted))if(t._options.resolver)t._executeSchema([i]).then(m=>{const h=d(m.errors,i),x=d(t._formState.errors,i);(x?!h&&x.type||h&&(x.type!==h.type||x.message!==h.message):h&&h.type)&&(h?E(t._formState.errors,i,h):R(t._formState.errors,i),t._subjects.state.next({errors:t._formState.errors}))});else{const m=d(t._fields,i);m&&m._f&&!(ve(t._options.reValidateMode).isOnSubmit&&ve(t._options.mode).isOnSubmit)&&Ge(m,t._names.disabled,t._formValues,t._options.criteriaMode===J.all,t._options.shouldUseNativeValidation,!0).then(h=>!H(h)&&t._subjects.state.next({errors:wt(t._formState.errors,h,i)}))}t._subjects.values.next({name:i,values:{...t._formValues}}),t._names.focus&&ce(t._fields,(m,h)=>{if(t._names.focus&&h.startsWith(t._names.focus)&&m.focus)return m.focus(),1}),t._names.focus="",t._updateValid(),O.current=!1},[g,i,t]),v.useEffect(()=>(!d(t._formValues,i)&&t._updateFieldArray(i),()=>{(t._options.shouldUnregister||l)&&t.unregister(i)}),[i,t,n,l]),{swap:v.useCallback(S,[k,i,t]),move:v.useCallback(Q,[k,i,t]),prepend:v.useCallback($,[k,i,t]),append:v.useCallback(N,[k,i,t]),remove:v.useCallback(q,[k,i,t]),insert:v.useCallback(ee,[k,i,t]),update:v.useCallback(X,[k,i,t]),replace:v.useCallback(L,[k,i,t]),fields:v.useMemo(()=>g.map((m,h)=>({...m,[n]:p.current[h]||ne()})),[g,n])}}var $e=()=>{let e=[];return{get observers(){return e},next:n=>{for(const l of e)l.next&&l.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(l=>l!==n)}}),unsubscribe:()=>{e=[]}}},Ke=e=>G(e)||!_t(e);function ue(e,r){if(Ke(e)||Ke(r))return e===r;if(oe(e)&&oe(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const n of t){const l=e[n];if(!i.includes(n))return!1;if(n!=="ref"){const f=r[n];if(oe(l)&&oe(f)||M(l)&&M(f)||Array.isArray(l)&&Array.isArray(f)?!ue(l,f):l!==f)return!1}}return!0}var Et=e=>e.type==="select-multiple",er=e=>Qe(e)||Fe(e),We=e=>we(e)&&e.isConnected,kt=e=>{for(const r in e)if(te(e[r]))return!0;return!1};function De(e,r={}){const t=Array.isArray(e);if(M(e)||t)for(const i in e)Array.isArray(e[i])||M(e[i])&&!kt(e[i])?(r[i]=Array.isArray(e[i])?[]:{},De(e[i],r[i])):G(e[i])||(r[i]=!0);return r}function Ct(e,r,t){const i=Array.isArray(e);if(M(e)||i)for(const n in e)Array.isArray(e[n])||M(e[n])&&!kt(e[n])?C(r)||Ke(t[n])?t[n]=Array.isArray(e[n])?De(e[n],[]):{...De(e[n])}:Ct(e[n],G(r)?{}:r[n],t[n]):t[n]=!ue(e[n],r[n]);return t}var me=(e,r)=>Ct(e,r,De(r)),It=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>C(e)?e:r?e===""?NaN:e&&+e:t&&re(e)?new Date(e):i?i(e):e;function qe(e){const r=e.ref;return Je(r)?r.files:Qe(r)?Dt(e.refs).value:Et(r)?[...r.selectedOptions].map(({value:t})=>t):Fe(r)?St(e.refs).value:It(C(r.value)?e.ref.value:r.value,e)}var tr=(e,r,t,i)=>{const n={};for(const l of e){const f=d(r,l);f&&E(n,l,f._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:i}},he=e=>C(e)?e:Se(e)?e.source:M(e)?Se(e.value)?e.value.source:e.value:e;const yt="AsyncFunction";var rr=e=>!!e&&!!e.validate&&!!(te(e.validate)&&e.validate.constructor.name===yt||M(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===yt)),sr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function gt(e,r,t){const i=d(e,t);if(i||Ye(t))return{error:i,name:t};const n=t.split(".");for(;n.length;){const l=n.join("."),f=d(r,l),g=d(e,l);if(f&&!Array.isArray(f)&&t!==l)return{name:t};if(g&&g.type)return{name:l,error:g};n.pop()}return{name:t}}var ir=(e,r,t,i,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?i.isOnBlur:n.isOnBlur)?!e:(t?i.isOnChange:n.isOnChange)?e:!0,ar=(e,r)=>!xe(d(e,r)).length&&R(e,r);const nr={mode:J.onSubmit,reValidateMode:J.onChange,shouldFocusError:!0};function ur(e={}){let r={...nr,...e},t={submitCount:0,isDirty:!1,isLoading:te(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},n=M(r.defaultValues)||M(r.values)?U(r.defaultValues||r.values)||{}:{},l=r.shouldUnregister?{}:U(n),f={action:!1,mount:!1,watch:!1},g={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},F,p=0;const w={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={values:$e(),array:$e(),state:$e()},O=ve(r.mode),k=ve(r.reValidateMode),N=r.criteriaMode===J.all,$=s=>a=>{clearTimeout(p),p=setTimeout(s,a)},q=async s=>{if(!r.disabled&&(w.isValid||s)){const a=r.resolver?H((await x()).errors):await P(i,!0);a!==t.isValid&&b.state.next({isValid:a})}},ee=(s,a)=>{!r.disabled&&(w.isValidating||w.validatingFields)&&((s||Array.from(g.mount)).forEach(u=>{u&&(a?E(t.validatingFields,u,a):R(t.validatingFields,u))}),b.state.next({validatingFields:t.validatingFields,isValidating:!H(t.validatingFields)}))},S=(s,a=[],u,y,c=!0,o=!0)=>{if(y&&u&&!r.disabled){if(f.action=!0,o&&Array.isArray(d(i,s))){const _=u(d(i,s),y.argA,y.argB);c&&E(i,s,_)}if(o&&Array.isArray(d(t.errors,s))){const _=u(d(t.errors,s),y.argA,y.argB);c&&E(t.errors,s,_),ar(t.errors,s)}if(w.touchedFields&&o&&Array.isArray(d(t.touchedFields,s))){const _=u(d(t.touchedFields,s),y.argA,y.argB);c&&E(t.touchedFields,s,_)}w.dirtyFields&&(t.dirtyFields=me(n,l)),b.state.next({name:s,isDirty:V(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else E(l,s,a)},Q=(s,a)=>{E(t.errors,s,a),b.state.next({errors:t.errors})},X=s=>{t.errors=s,b.state.next({errors:t.errors,isValid:!1})},L=(s,a,u,y)=>{const c=d(i,s);if(c){const o=d(l,s,C(u)?d(n,s):u);C(o)||y&&y.defaultChecked||a?E(l,s,a?o:qe(c._f)):W(s,o),f.mount&&q()}},m=(s,a,u,y,c)=>{let o=!1,_=!1;const A={name:s};if(!r.disabled){const j=!!(d(i,s)&&d(i,s)._f&&d(i,s)._f.disabled);if(!u||y){w.isDirty&&(_=t.isDirty,t.isDirty=A.isDirty=V(),o=_!==A.isDirty);const B=j||ue(d(n,s),a);_=!!(!j&&d(t.dirtyFields,s)),B||j?R(t.dirtyFields,s):E(t.dirtyFields,s,!0),A.dirtyFields=t.dirtyFields,o=o||w.dirtyFields&&_!==!B}if(u){const B=d(t.touchedFields,s);B||(E(t.touchedFields,s,u),A.touchedFields=t.touchedFields,o=o||w.touchedFields&&B!==u)}o&&c&&b.state.next(A)}return o?A:{}},h=(s,a,u,y)=>{const c=d(t.errors,s),o=w.isValid&&Y(a)&&t.isValid!==a;if(r.delayError&&u?(F=$(()=>Q(s,u)),F(r.delayError)):(clearTimeout(p),F=null,u?E(t.errors,s,u):R(t.errors,s)),(u?!ue(c,u):c)||!H(y)||o){const _={...y,...o&&Y(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,..._},b.state.next(_)}},x=async s=>{ee(s,!0);const a=await r.resolver(l,r.context,tr(s||g.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return ee(s),a},I=async s=>{const{errors:a}=await x(s);if(s)for(const u of s){const y=d(a,u);y?E(t.errors,u,y):R(t.errors,u)}else t.errors=a;return a},P=async(s,a,u={valid:!0})=>{for(const y in s){const c=s[y];if(c){const{_f:o,..._}=c;if(o){const A=g.array.has(o.name),j=c._f&&rr(c._f);j&&w.validatingFields&&ee([y],!0);const B=await Ge(c,g.disabled,l,N,r.shouldUseNativeValidation&&!a,A);if(j&&w.validatingFields&&ee([y]),B[o.name]&&(u.valid=!1,a))break;!a&&(d(B,o.name)?A?wt(t.errors,B,o.name):E(t.errors,o.name,B[o.name]):R(t.errors,o.name))}!H(_)&&await P(_,a,u)}}return u.valid},le=()=>{for(const s of g.unMount){const a=d(i,s);a&&(a._f.refs?a._f.refs.every(u=>!We(u)):!We(a._f.ref))&&Ce(s)}g.unMount=new Set},V=(s,a)=>!r.disabled&&(s&&a&&E(l,s,a),!ue(Xe(),n)),D=(s,a,u)=>pt(s,g,{...f.mount?l:C(a)?n:re(s)?{[s]:a}:a},u,a),T=s=>xe(d(f.mount?l:n,s,r.shouldUnregister?d(n,s,[]):[])),W=(s,a,u={})=>{const y=d(i,s);let c=a;if(y){const o=y._f;o&&(!o.disabled&&E(l,s,It(a,o)),c=we(o.ref)&&G(a)?"":a,Et(o.ref)?[...o.ref.options].forEach(_=>_.selected=c.includes(_.value)):o.refs?Fe(o.ref)?o.refs.length>1?o.refs.forEach(_=>(!_.defaultChecked||!_.disabled)&&(_.checked=Array.isArray(c)?!!c.find(A=>A===_.value):c===_.value)):o.refs[0]&&(o.refs[0].checked=!!c):o.refs.forEach(_=>_.checked=_.value===c):Je(o.ref)?o.ref.value="":(o.ref.value=c,o.ref.type||b.values.next({name:s,values:{...l}})))}(u.shouldDirty||u.shouldTouch)&&m(s,c,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&_e(s)},Z=(s,a,u)=>{for(const y in a){const c=a[y],o=`${s}.${y}`,_=d(i,o);(g.array.has(s)||M(c)||_&&!_._f)&&!oe(c)?Z(o,c,u):W(o,c,u)}},z=(s,a,u={})=>{const y=d(i,s),c=g.array.has(s),o=U(a);E(l,s,o),c?(b.array.next({name:s,values:{...l}}),(w.isDirty||w.dirtyFields)&&u.shouldDirty&&b.state.next({name:s,dirtyFields:me(n,l),isDirty:V(s,o)})):y&&!y._f&&!G(o)?Z(s,o,u):W(s,o,u),He(s,g)&&b.state.next({...t}),b.values.next({name:f.mount?s:void 0,values:{...l}})},ye=async s=>{f.mount=!0;const a=s.target;let u=a.name,y=!0;const c=d(i,u),o=()=>a.type?qe(c._f):mt(s),_=A=>{y=Number.isNaN(A)||oe(A)&&isNaN(A.getTime())||ue(A,d(l,u,A))};if(c){let A,j;const B=o(),ae=s.type===pe.BLUR||s.type===pe.FOCUS_OUT,Pt=!sr(c._f)&&!r.resolver&&!d(t.errors,u)&&!c._f.deps||ir(ae,d(t.touchedFields,u),t.isSubmitted,k,O),Le=He(u,g,ae);E(l,u,B),ae?(c._f.onBlur&&c._f.onBlur(s),F&&F(0)):c._f.onChange&&c._f.onChange(s);const Me=m(u,B,ae,!1),jt=!H(Me)||Le;if(!ae&&b.values.next({name:u,type:s.type,values:{...l}}),Pt)return w.isValid&&(r.mode==="onBlur"&&ae?q():ae||q()),jt&&b.state.next({name:u,...Le?{}:Me});if(!ae&&Le&&b.state.next({...t}),r.resolver){const{errors:nt}=await x([u]);if(_(B),y){const Bt=gt(t.errors,i,u),ut=gt(nt,i,Bt.name||u);A=ut.error,u=ut.name,j=H(nt)}}else ee([u],!0),A=(await Ge(c,g.disabled,l,N,r.shouldUseNativeValidation))[u],ee([u]),_(B),y&&(A?j=!1:w.isValid&&(j=await P(i,!0)));y&&(c._f.deps&&_e(c._f.deps),h(u,j,A,Me))}},ge=(s,a)=>{if(d(t.errors,a)&&s.focus)return s.focus(),1},_e=async(s,a={})=>{let u,y;const c=K(s);if(r.resolver){const o=await I(C(s)?s:c);u=H(o),y=s?!c.some(_=>d(o,_)):u}else s?(y=(await Promise.all(c.map(async o=>{const _=d(i,o);return await P(_&&_._f?{[o]:_}:_)}))).every(Boolean),!(!y&&!t.isValid)&&q()):y=u=await P(i);return b.state.next({...!re(s)||w.isValid&&u!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:u}:{},errors:t.errors}),a.shouldFocus&&!y&&ce(i,ge,s?c:g.mount),y},Xe=s=>{const a={...f.mount?l:n};return C(s)?a:re(s)?d(a,s):s.map(u=>d(a,u))},Ze=(s,a)=>({invalid:!!d((a||t).errors,s),isDirty:!!d((a||t).dirtyFields,s),error:d((a||t).errors,s),isValidating:!!d(t.validatingFields,s),isTouched:!!d((a||t).touchedFields,s)}),Rt=s=>{s&&K(s).forEach(a=>R(t.errors,a)),b.state.next({errors:s?t.errors:{}})},et=(s,a,u)=>{const y=(d(i,s,{_f:{}})._f||{}).ref,c=d(t.errors,s)||{},{ref:o,message:_,type:A,...j}=c;E(t.errors,s,{...j,...a,ref:y}),b.state.next({name:s,errors:t.errors,isValid:!1}),u&&u.shouldFocus&&y&&y.focus&&y.focus()},Tt=(s,a)=>te(s)?b.values.subscribe({next:u=>s(D(void 0,a),u)}):D(s,a,!0),Ce=(s,a={})=>{for(const u of s?K(s):g.mount)g.mount.delete(u),g.array.delete(u),a.keepValue||(R(i,u),R(l,u)),!a.keepError&&R(t.errors,u),!a.keepDirty&&R(t.dirtyFields,u),!a.keepTouched&&R(t.touchedFields,u),!a.keepIsValidating&&R(t.validatingFields,u),!r.shouldUnregister&&!a.keepDefaultValue&&R(n,u);b.values.next({values:{...l}}),b.state.next({...t,...a.keepDirty?{isDirty:V()}:{}}),!a.keepIsValid&&q()},tt=({disabled:s,name:a,field:u,fields:y})=>{(Y(s)&&f.mount||s||g.disabled.has(a))&&(s?g.disabled.add(a):g.disabled.delete(a),m(a,qe(u?u._f:d(y,a)._f),!1,!1,!0))},Ie=(s,a={})=>{let u=d(i,s);const y=Y(a.disabled)||Y(r.disabled);return E(i,s,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:s}},name:s,mount:!0,...a}}),g.mount.add(s),u?tt({field:u,disabled:Y(a.disabled)?a.disabled:r.disabled,name:s}):L(s,!0,a.value),{...y?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:he(a.min),max:he(a.max),minLength:he(a.minLength),maxLength:he(a.maxLength),pattern:he(a.pattern)}:{},name:s,onChange:ye,onBlur:ye,ref:c=>{if(c){Ie(s,a),u=d(i,s);const o=C(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,_=er(o),A=u._f.refs||[];if(_?A.find(j=>j===o):o===u._f.ref)return;E(i,s,{_f:{...u._f,..._?{refs:[...A.filter(We),o,...Array.isArray(d(n,s))?[{}]:[]],ref:{type:o.type,name:s}}:{ref:o}}}),L(s,!1,void 0,o)}else u=d(i,s,{}),u._f&&(u._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(ht(g.array,s)&&f.action)&&g.unMount.add(s)}}},rt=()=>r.shouldFocusError&&ce(i,ge,g.mount),Ut=s=>{Y(s)&&(b.state.next({disabled:s}),ce(i,(a,u)=>{const y=d(i,u);y&&(a.disabled=y._f.disabled||s,Array.isArray(y._f.refs)&&y._f.refs.forEach(c=>{c.disabled=y._f.disabled||s}))},0,!1))},st=(s,a)=>async u=>{let y;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let c=U(l);if(g.disabled.size)for(const o of g.disabled)E(c,o,void 0);if(b.state.next({isSubmitting:!0}),r.resolver){const{errors:o,values:_}=await x();t.errors=o,c=_}else await P(i);if(R(t.errors,"root"),H(t.errors)){b.state.next({errors:{}});try{await s(c,u)}catch(o){y=o}}else a&&await a({...t.errors},u),rt(),setTimeout(rt);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:H(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},Nt=(s,a={})=>{d(i,s)&&(C(a.defaultValue)?z(s,U(d(n,s))):(z(s,a.defaultValue),E(n,s,U(a.defaultValue))),a.keepTouched||R(t.touchedFields,s),a.keepDirty||(R(t.dirtyFields,s),t.isDirty=a.defaultValue?V(s,U(d(n,s))):V()),a.keepError||(R(t.errors,s),w.isValid&&q()),b.state.next({...t}))},it=(s,a={})=>{const u=s?U(s):n,y=U(u),c=H(s),o=c?n:y;if(a.keepDefaultValues||(n=u),!a.keepValues){if(a.keepDirtyValues){const _=new Set([...g.mount,...Object.keys(me(n,l))]);for(const A of Array.from(_))d(t.dirtyFields,A)?E(o,A,d(l,A)):z(A,d(o,A))}else{if(ze&&C(s))for(const _ of g.mount){const A=d(i,_);if(A&&A._f){const j=Array.isArray(A._f.refs)?A._f.refs[0]:A._f.ref;if(we(j)){const B=j.closest("form");if(B){B.reset();break}}}}i={}}l=r.shouldUnregister?a.keepDefaultValues?U(n):{}:U(o),b.array.next({values:{...o}}),b.values.next({values:{...o}})}g={mount:a.keepDirtyValues?g.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!w.isValid||!!a.keepIsValid||!!a.keepDirtyValues,f.watch=!!r.shouldUnregister,b.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:c?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ue(s,n)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?{}:a.keepDirtyValues?a.keepDefaultValues&&l?me(n,l):t.dirtyFields:a.keepDefaultValues&&s?me(n,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},at=(s,a)=>it(te(s)?s(l):s,a);return{control:{register:Ie,unregister:Ce,getFieldState:Ze,handleSubmit:st,setError:et,_executeSchema:x,_getWatch:D,_getDirty:V,_updateValid:q,_removeUnmounted:le,_updateFieldArray:S,_updateDisabledField:tt,_getFieldArray:T,_reset:it,_resetDefaultValues:()=>te(r.defaultValues)&&r.defaultValues().then(s=>{at(s,r.resetOptions),b.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:Ut,_subjects:b,_proxyFormState:w,_setErrors:X,get _fields(){return i},get _formValues(){return l},get _state(){return f},set _state(s){f=s},get _defaultValues(){return n},get _names(){return g},set _names(s){g=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:_e,register:Ie,handleSubmit:st,watch:Tt,setValue:z,getValues:Xe,reset:at,resetField:Nt,clearErrors:Rt,unregister:Ce,setError:et,setFocus:(s,a={})=>{const u=d(i,s),y=u&&u._f;if(y){const c=y.refs?y.refs[0]:y.ref;c.focus&&(c.focus(),a.shouldSelect&&te(c.select)&&c.select())}},getFieldState:Ze}}function mr(e={}){const r=v.useRef(void 0),t=v.useRef(void 0),[i,n]=v.useState({isDirty:!1,isValidating:!1,isLoading:te(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:te(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...ur(e),formState:i});const l=r.current.control;return l._options=e,Ee({subject:l._subjects.state,next:f=>{xt(f,l._proxyFormState,l._updateFormState,!0)&&n({...l._formState})}}),v.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),v.useEffect(()=>{if(l._proxyFormState.isDirty){const f=l._getDirty();f!==i.isDirty&&l._subjects.state.next({isDirty:f})}},[l,i.isDirty]),v.useEffect(()=>{e.values&&!ue(e.values,t.current)?(l._reset(e.values,l._options.resetOptions),t.current=e.values,n(f=>({...f}))):l._resetDefaultValues()},[e.values,l]),v.useEffect(()=>{e.errors&&l._setErrors(e.errors)},[e.errors,l]),v.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),v.useEffect(()=>{e.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[e.shouldUnregister,l]),r.current.formState=Ft(i,l),r.current}var lr="Label",Lt=fe.forwardRef((e,r)=>se.jsx($t.label,{...e,ref:r,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Lt.displayName=lr;var or=Lt;function dr({className:e,...r}){return se.jsx(or,{"data-slot":"label",className:be("text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}const hr=Gt,Mt=fe.createContext({}),vr=({...e})=>se.jsx(Mt.Provider,{value:{name:e.name},children:se.jsx(Yt,{...e})}),ke=()=>{const e=fe.useContext(Mt),r=fe.useContext(Ot),{getFieldState:t}=Ae(),i=Vt({name:e.name}),n=t(e.name,i);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:l}=r;return{id:l,name:e.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...n}},Ot=fe.createContext({});function br({className:e,...r}){const t=fe.useId();return se.jsx(Ot.Provider,{value:{id:t},children:se.jsx("div",{"data-slot":"form-item",className:be("grid gap-2",e),...r})})}function Fr({className:e,...r}){const{error:t,formItemId:i}=ke();return se.jsx(dr,{"data-slot":"form-label","data-error":!!t,className:be("data-[error=true]:text-destructive",e),htmlFor:i,...r})}function xr({...e}){const{error:r,formItemId:t,formDescriptionId:i,formMessageId:n}=ke();return se.jsx(Wt,{"data-slot":"form-control",id:t,"aria-describedby":r?`${i} ${n}`:`${i}`,"aria-invalid":!!r,...e})}function Ar({className:e,...r}){const{formDescriptionId:t}=ke();return se.jsx("p",{"data-slot":"form-description",id:t,className:be("text-muted-foreground text-sm",e),...r})}function Vr({className:e,...r}){const{error:t,formMessageId:i}=ke(),n=t?String(t==null?void 0:t.message):r.children;return n?se.jsx("p",{"data-slot":"form-message",id:i,className:be("text-destructive text-sm font-medium",e),...r,children:n}):null}export{hr as F,_r as a,vr as b,br as c,Fr as d,xr as e,Vr as f,Ar as g,d as h,Jt as i,E as s,mr as u};
