import{c as k,g as L,h as H,r as v,j as e,F as B,i as d,k as m,l as h,n as x,a as D,o as j,H as R,J as V,K as S,L as I,N as T,I as w,e as N,aD as P,aE as $,aF as C,aG as b,aH as O,aI as g,G as A,U as Y,aL as U,m as E,b as z,d as q}from"./index-BEfPUQd3.js";import{s as G}from"./zod-DPUoip6C.js";import{o as _,a as J,s as u,e as K}from"./index-3Gi9B8Cu.js";import{D as W,a as X,b as Z,c as Q,d as ee}from"./dialog-DfEuW_jS.js";import{M}from"./multi-select-DEp3z63F.js";import{T as se}from"./trash-2-DQhLckhX.js";import{P as F}from"./plus-D6nxsE-o.js";import{P as ae}from"./palette-DIBUchrs.js";import"./separator-DpEqoi9c.js";import"./circle-x-Bb9PP882.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],le=k("FileText",re),te=_({User_ID:u().min(1,"Please select a user"),Deliver_ID:u().min(1,"Please select a rider"),type:K(["CAR","MOTORCYCLE","BICYCLE","VAN"],{required_error:"Please select a vehicle type"}),model:u().min(1,"Model is required"),color:u().min(1,"Please select a color"),registrationNumber:u().min(1,"Registration number is required").regex(/^[A-Z]{2}-\d{8}-\d{2}$/,"Registration number format should be XX-12345678-YY")}),ie=_({vehicles:J(te).min(1,"Add at least one vehicle")}),ne=[{value:"8c66228b-9527-490b-a174-b15cb557100b",label:"John Rider",icon:D}],ce=[{value:"8731e725-2b11-4c40-a828-b8408e35fe19",label:"John Delivery",icon:D}],oe=["CAR","MOTORCYCLE","BICYCLE","VAN"],de=["RED","BLUE","GREEN","BLACK","WHITE","SILVER","GRAY"];function me({open:c,onOpenChange:l,onSubmit:n}){const a=L({resolver:G(ie),defaultValues:{vehicles:[{User_ID:"",Deliver_ID:"",type:"CAR",model:"",color:"",registrationNumber:""}]}}),{fields:o,append:p,remove:y}=H({control:a.control,name:"vehicles"});v.useEffect(()=>{c||a.reset({vehicles:[{User_ID:"",Deliver_ID:"",type:"CAR",model:"",color:"",registrationNumber:""}]})},[c]);const f=s=>{n(s.vehicles),a.reset()};return e.jsx(W,{open:c,onOpenChange:l,children:e.jsxs(X,{className:"max-w-2xl bg-white",children:[e.jsxs(Z,{children:[e.jsx(Q,{className:"text-[#4A36EC] text-xl font-bold",children:"Register Vehicle"}),e.jsx(ee,{className:"text-gray-600",children:"Register new vehicles for delivery riders"})]}),e.jsx(B,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(f),className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:o.map((s,t)=>e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[e.jsx(d,{control:a.control,name:`vehicles.${t}.User_ID`,render:({field:r})=>e.jsxs(m,{children:[e.jsx(h,{className:"text-gray-700",children:"Select User"}),e.jsx(x,{children:e.jsx(M,{options:ne,value:[r.value],onValueChange:i=>r.onChange(i[0]),placeholder:"Select a user",maxCount:1})}),e.jsx(j,{className:"text-red-500"})]})}),e.jsx(d,{control:a.control,name:`vehicles.${t}.Deliver_ID`,render:({field:r})=>e.jsxs(m,{children:[e.jsx(h,{className:"text-gray-700",children:"Select Rider"}),e.jsx(x,{children:e.jsx(M,{options:ce,value:[r.value],onValueChange:i=>r.onChange(i[0]),placeholder:"Select a rider",maxCount:1})}),e.jsx(j,{className:"text-red-500"})]})}),e.jsx(d,{control:a.control,name:`vehicles.${t}.type`,render:({field:r})=>e.jsxs(m,{children:[e.jsx(h,{className:"text-gray-700",children:"Vehicle Type"}),e.jsxs(R,{onValueChange:r.onChange,defaultValue:r.value,children:[e.jsx(x,{children:e.jsx(V,{children:e.jsx(S,{placeholder:"Select vehicle type"})})}),e.jsx(I,{children:oe.map(i=>e.jsx(T,{value:i,children:i},i))})]}),e.jsx(j,{className:"text-red-500"})]})}),e.jsx(d,{control:a.control,name:`vehicles.${t}.model`,render:({field:r})=>e.jsxs(m,{children:[e.jsx(h,{className:"text-gray-700",children:"Vehicle Model"}),e.jsx(x,{children:e.jsx(w,{placeholder:"Enter vehicle model",className:"border-gray-200 focus:border-[#4A36EC] focus:ring-[#4A36EC]",...r})}),e.jsx(j,{className:"text-red-500"})]})}),e.jsx(d,{control:a.control,name:`vehicles.${t}.color`,render:({field:r})=>e.jsxs(m,{children:[e.jsx(h,{className:"text-gray-700",children:"Vehicle Color"}),e.jsxs(R,{onValueChange:r.onChange,defaultValue:r.value,children:[e.jsx(x,{children:e.jsx(V,{children:e.jsx(S,{placeholder:"Select vehicle color"})})}),e.jsx(I,{children:de.map(i=>e.jsx(T,{value:i,children:i},i))})]}),e.jsx(j,{className:"text-red-500"})]})}),e.jsx(d,{control:a.control,name:`vehicles.${t}.registrationNumber`,render:({field:r})=>e.jsxs(m,{children:[e.jsx(h,{className:"text-gray-700",children:"Registration Number"}),e.jsx(x,{children:e.jsx(w,{placeholder:"GW-12345678-18",className:"border-gray-200 focus:border-[#4A36EC] focus:ring-[#4A36EC]",...r})}),e.jsx(j,{className:"text-red-500"})]})}),o.length>1&&e.jsx(N,{type:"button",variant:"outline",size:"icon",className:"hover:bg-gray-100",onClick:()=>y(t),children:e.jsx(se,{className:"w-4 h-4 text-gray-600"})})]},s.id))}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(N,{type:"button",variant:"outline",className:"hover:bg-gray-100",onClick:()=>p({User_ID:"",Deliver_ID:"",type:"CAR",model:"",color:"",registrationNumber:""}),children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Add Another"]}),e.jsx(N,{type:"submit",className:"bg-[#4A36EC] hover:bg-[#5B4AEE] text-white",children:"Register Vehicles"})]})]})})]})})}const he={"8c66228b-9527-490b-a174-b15cb557100b":{name:"John Rider",email:"john@example.com"}},xe={"8731e725-2b11-4c40-a828-b8408e35fe19":{name:"John Delivery",phone:"+233123456789"}};function je({vehicles:c}){return e.jsx("div",{className:"border rounded-lg bg-white",children:e.jsxs(P,{children:[e.jsx($,{children:e.jsxs(C,{className:"bg-gray-50",children:[e.jsx(b,{className:"text-[#4A36EC] font-semibold",children:"Registration"}),e.jsx(b,{className:"text-[#4A36EC] font-semibold",children:"Vehicle Info"}),e.jsx(b,{className:"text-[#4A36EC] font-semibold",children:"Rider"}),e.jsx(b,{className:"text-[#4A36EC] font-semibold",children:"Status"})]})}),e.jsxs(O,{children:[c.map((l,n)=>{var a,o;return e.jsxs(C,{className:"hover:bg-gray-50 transition-colors",children:[e.jsx(g,{className:"text-gray-700 font-medium",children:l.registrationNumber}),e.jsx(g,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-900",children:l.model}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(A,{variant:"outline",className:"text-[#4A36EC]",children:l.type}),e.jsx(A,{variant:"outline",className:"bg-gray-100",children:l.color})]})]})}),e.jsx(g,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-900",children:((a=he[l.User_ID])==null?void 0:a.name)||"Unknown User"}),e.jsx("span",{className:"text-gray-500 text-sm",children:((o=xe[l.Deliver_ID])==null?void 0:o.name)||"Unknown Rider"})]})}),e.jsx(g,{children:e.jsx(A,{className:"bg-green-100 text-green-800",children:"Active"})})]},n)}),c.length===0&&e.jsx(C,{children:e.jsx(g,{colSpan:4,className:"text-center text-gray-500 py-8",children:"No vehicles registered yet"})})]})]})})}function Ee(){const[c,l]=v.useState(!1),[n,a]=v.useState([]),[o,p]=v.useState(null),y=async s=>{try{console.log(s),a([...n,...s]),l(!1),p(null)}catch(t){p("Failed to add vehicles"),console.error(t)}},f=[{title:"Total Vehicles",value:n.length,icon:D,description:"Registered vehicles",trend:"+2.8%",trendUp:!0},{title:"Vehicle Types",value:new Set(n.map(s=>s.type)).size,icon:le,description:"Different categories",trend:"+1.5%",trendUp:!0},{title:"Color Variants",value:new Set(n.map(s=>s.color)).size,icon:ae,description:"Available colors",trend:"+3.2%",trendUp:!0},{title:"Active Riders",value:new Set(n.map(s=>s.User_ID)).size,icon:Y,description:"Assigned riders",trend:"+2.1%",trendUp:!0}];return e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx("a",{href:"/",className:"hover:text-[#4A36EC]",children:"Dashboard"}),e.jsx(U,{className:"w-4 h-4 mx-2"}),e.jsx("a",{href:"/user-management",className:"hover:text-[#4A36EC]",children:"User Management"}),e.jsx(U,{className:"w-4 h-4 mx-2"}),e.jsx("span",{className:"text-[#4A36EC] font-medium",children:"Vehicles"})]}),e.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-[#4A36EC]",children:"Rider Vehicles"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage rider vehicles and registrations"})]}),e.jsxs(N,{onClick:()=>l(!0),className:"bg-[#4A36EC] hover:bg-[#5B4AEE] text-white",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Register Vehicle"]})]}),e.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map((s,t)=>e.jsx(z,{className:"border border-gray-200 hover:border-[#4A36EC] transition-colors",children:e.jsxs(q,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:s.title}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-2",children:s.value})]}),e.jsx("div",{className:"bg-[#4A36EC]/10 p-2 rounded-lg",children:e.jsx(s.icon,{className:"w-5 h-5 text-[#4A36EC]"})})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-gray-500",children:s.description}),e.jsx("span",{className:`text-xs font-medium ${s.trendUp?"text-green-600":"text-red-600"}`,children:s.trend})]})]})},t))}),e.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:e.jsx(je,{vehicles:n})}),o&&e.jsx("div",{className:"text-red-600 text-sm",children:o}),e.jsx(me,{open:c,onOpenChange:l,onSubmit:y})]})}export{Ee as default};
