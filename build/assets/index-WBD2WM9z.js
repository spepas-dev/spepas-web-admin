import{c as ue,r as x,ae as xe,af as pe,j as e,ag as he,ah as ee,ai as Z,aj as ge,ak as je,al as fe,p as N,a0 as be,g as se,U as $,F as te,i as B,k as L,l as R,n as z,o as K,e as f,m as V,b as k,a2 as _,a3 as I,a4 as T,d as G,D as ae,x as C,am as Q,I as re,f as ye,h as Ne,M as q,H as ve,J as Ae,K as Ce,L as Se,N as X,a1 as Me,aa as we,ac as E,s as Ee,w as ke,a5 as _e,a6 as Ie,a7 as P,a9 as Te,a8 as F}from"./index-BEfPUQd3.js";import{u as Ge}from"./applications.queries-B_YvO4f9.js";import{u as U}from"./modal-helpers-u5ghZSiS.js";import{s as ne}from"./zod-DPUoip6C.js";import{z as S}from"./index-3Gi9B8Cu.js";import{T as H}from"./trash-2-DQhLckhX.js";import{P as D}from"./plus-D6nxsE-o.js";import{U as De}from"./user-check-DWUyQjw4.js";import{T as Pe}from"./textarea-BpM5EgwI.js";import{a as Fe}from"./application.mutations-Dx6O_Aqv.js";import{U as Be}from"./user-NtLM3mmy.js";import{C as Le}from"./calendar-ubeMVyQ8.js";import{u as Re}from"./useMutation-CxnX3va-.js";import{M as ze,m as Ke}from"./menu.queries-57U7xnAT.js";import{B as Ue}from"./building-2-CTShFezU.js";import"./dialog-DfEuW_jS.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ie=ue("SquarePen",$e);var O="Checkbox",[Ve,ys]=he(O),[qe,He]=Ve(O),ce=x.forwardRef((s,t)=>{const{__scopeCheckbox:l,name:i,checked:a,defaultChecked:d,required:m,disabled:r,value:n="on",onCheckedChange:g,form:j,...o}=s,[c,h]=x.useState(null),b=xe(t,v=>h(v)),A=x.useRef(!1),u=c?j||!!c.closest("form"):!0,[p=!1,y]=pe({prop:a,defaultProp:d,onChange:g}),me=x.useRef(p);return x.useEffect(()=>{const v=c==null?void 0:c.form;if(v){const w=()=>y(me.current);return v.addEventListener("reset",w),()=>v.removeEventListener("reset",w)}},[c,y]),e.jsxs(qe,{scope:l,state:p,disabled:r,children:[e.jsx(ee.button,{type:"button",role:"checkbox","aria-checked":M(p)?"mixed":p,"aria-required":m,"data-state":oe(p),"data-disabled":r?"":void 0,disabled:r,value:n,...o,ref:b,onKeyDown:Z(s.onKeyDown,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:Z(s.onClick,v=>{y(w=>M(w)?!0:!w),u&&(A.current=v.isPropagationStopped(),A.current||v.stopPropagation())})}),u&&e.jsx(Oe,{control:c,bubbles:!A.current,name:i,value:n,checked:p,required:m,disabled:r,form:j,style:{transform:"translateX(-100%)"},defaultChecked:M(d)?!1:d})]})});ce.displayName=O;var le="CheckboxIndicator",de=x.forwardRef((s,t)=>{const{__scopeCheckbox:l,forceMount:i,...a}=s,d=He(le,l);return e.jsx(ge,{present:i||M(d.state)||d.state===!0,children:e.jsx(ee.span,{"data-state":oe(d.state),"data-disabled":d.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...s.style}})})});de.displayName=le;var Oe=s=>{const{control:t,checked:l,bubbles:i=!0,defaultChecked:a,...d}=s,m=x.useRef(null),r=je(l),n=fe(t);x.useEffect(()=>{const j=m.current,o=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(o,"checked").set;if(r!==l&&h){const b=new Event("click",{bubbles:i});j.indeterminate=M(l),h.call(j,M(l)?!1:l),j.dispatchEvent(b)}},[r,l,i]);const g=x.useRef(M(l)?!1:l);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??g.current,...d,tabIndex:-1,ref:m,style:{...s.style,...n,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function M(s){return s==="indeterminate"}function oe(s){return M(s)?"indeterminate":s?"checked":"unchecked"}var Ze=ce,Qe=de;function Xe({className:s,...t}){return e.jsx(Ze,{"data-slot":"checkbox",className:N("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary ring-ring/10 dark:ring-ring/20 dark:outline-ring/40 outline-ring/50 size-4 shrink-0 rounded-[4px] border shadow-xs transition-[color,box-shadow] focus-visible:ring-4 focus-visible:outline-1 disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:focus-visible:ring-0",s),...t,children:e.jsx(Qe,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current",children:e.jsx(be,{className:"size-3.5"})})})}const Je=S.object({groupIds:S.array(S.string()).min(1,"Please select at least one group")});function J({onSubmit:s,loading:t=!1,availableGroups:l,selectedGroups:i=[]}){const a=se({resolver:ne(Je),defaultValues:{groupIds:i}}),d=r=>{s({groupIds:r.groupIds})},m=(r,n)=>{const g=a.getValues("groupIds"),j=n?[...g,r]:g.filter(o=>o!==r);a.setValue("groupIds",j)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5 text-[#4A36EC]"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assign Groups"})]}),e.jsx(te,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(d),className:"space-y-6",children:[e.jsx(B,{control:a.control,name:"groupIds",render:()=>e.jsxs(L,{children:[e.jsx(R,{className:"text-gray-700",children:"Select Groups"}),e.jsx(z,{children:e.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 border border-gray-200 rounded-lg p-4",children:l.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No available groups to assign"}):l.map(r=>e.jsxs("div",{className:N("flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50 transition-colors",a.watch("groupIds").includes(r.group_id)&&"border-[#4A36EC] bg-[#4A36EC]/5"),children:[e.jsx(Xe,{id:r.group_id,checked:a.watch("groupIds").includes(r.group_id),onCheckedChange:n=>m(r.group_id,n),disabled:t}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:r.group_id,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:r.title}),e.jsx("p",{className:"text-xs text-gray-500 font-mono mt-1",children:r.group_id}),e.jsx("span",{className:N("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium mt-2",r.status===1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:r.status===1?"Active":"Inactive"})]})]},r.group_id))})}),e.jsx(K,{className:"text-red-500"})]})}),e.jsx("div",{className:"flex justify-end space-x-3 pt-4",children:e.jsx(f,{type:"submit",disabled:t||a.watch("groupIds").length===0,className:"bg-[#4A36EC] hover:bg-[#5B4AEE] text-white",children:t?"Assigning...":`Assign ${a.watch("groupIds").length} Group${a.watch("groupIds").length!==1?"s":""}`})})]})})]})}const W=[{id:1,group_id:"group-1",title:"Administrators",date_added:"2024-01-01T00:00:00Z",added_by:"user-1",status:1},{id:2,group_id:"group-2",title:"Users",date_added:"2024-01-01T00:00:00Z",added_by:"user-1",status:1},{id:3,group_id:"group-3",title:"Viewers",date_added:"2024-01-01T00:00:00Z",added_by:"user-1",status:0}],We=({applicationId:s})=>{const[t,l]=x.useState(W.slice(0,2)),[i,a]=x.useState(W.slice(2)),[d,m]=x.useState(!1),r=U(),n=async o=>{m(!0);try{const c=i.filter(h=>o.groupIds.includes(h.group_id));l([...t,...c]),a(i.filter(h=>!o.groupIds.includes(h.group_id))),r.close(),C.success("Groups assigned successfully")}catch(c){console.error("Error assigning groups:",c),C.error("Failed to assign groups. Please try again.")}finally{m(!1)}},g=o=>{const c=t.find(h=>h.group_id===o);c&&(l(t.filter(h=>h.group_id!==o)),a([...i,c]),C.success("Group removed successfully"))},j=x.useMemo(()=>[{header:"Serial",accessorKey:"serial",cell:({row:o})=>e.jsx("span",{className:"text-gray-600",children:o.index+1})},{header:"Group Name",accessorKey:"title"},{header:"Group ID",accessorKey:"group_id",cell:({row:o})=>e.jsx("span",{className:"font-mono text-sm bg-gray-50 px-2 py-1 rounded",children:o.original.group_id})},{header:"Status",accessorKey:"status",cell:({row:o})=>{const c=o.original.status===1;return e.jsxs("span",{className:N("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",c?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"),children:[e.jsx("span",{className:N("w-1.5 h-1.5 rounded-full mr-1.5",c?"bg-green-400":"bg-red-400")}),c?"Active":"Inactive"]})}},{header:"Assigned Date",accessorKey:"date_added",cell:({row:o})=>e.jsx("span",{className:"text-sm text-gray-600",children:new Date(o.original.date_added).toLocaleDateString()})},{header:"Actions",id:"actions",cell:({row:o})=>{const c=o.original;return e.jsx("div",{className:"flex gap-2",children:e.jsx(f,{size:"sm",variant:"outline",className:"hover:bg-red-600 hover:text-white",onClick:()=>g(c.group_id),children:e.jsx(H,{className:"w-4 h-4"})})})}}],[]);return e.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Assigned Groups"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage group assignments for this application"})]}),e.jsxs(f,{onClick:()=>r.openForm({title:"Assign Groups",size:"md",showFooter:!1,children:e.jsx(J,{onSubmit:n,loading:d,availableGroups:i})}),className:"bg-[#4A36EC] hover:bg-[#3A2BDC]",disabled:i.length===0,children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Assign Groups"]})]}),e.jsxs(k,{children:[e.jsxs(_,{children:[e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-5 h-5 text-[#4A36EC]"}),"Assigned Groups"]}),e.jsx(T,{children:"Groups that have access to this application"})]}),e.jsx(G,{children:t.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(De,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No groups assigned"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Assign groups to give them access to this application"}),e.jsxs(f,{onClick:()=>r.openForm({title:"Assign Groups",size:"md",showFooter:!1,children:e.jsx(J,{onSubmit:n,loading:d,availableGroups:i})}),className:"bg-[#4A36EC] hover:bg-[#3A2BDC]",disabled:i.length===0,children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Assign Groups"]})]}):e.jsx(ae,{data:t,columns:j})})]}),i.length>0&&e.jsxs(k,{children:[e.jsxs(_,{children:[e.jsx(I,{className:"text-lg",children:"Available Groups"}),e.jsx(T,{children:"Groups that can be assigned to this application"})]}),e.jsx(G,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(o=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-[#4A36EC] transition-colors",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:o.title}),e.jsx("p",{className:"text-sm text-gray-600 font-mono",children:o.group_id}),e.jsx("span",{className:N("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium mt-2",o.status===1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:o.status===1?"Active":"Inactive"})]},o.group_id))})})]})]})},Ye=({application:s})=>{var n;const[t,l]=x.useState(!1),[i,a]=x.useState({name:s.name,description:s.description||""}),d=Fe((n=s.id)==null?void 0:n.toString()),m=async()=>{try{await d.mutateAsync({name:i.name,description:i.description}),l(!1)}catch(g){console.error("Failed to update application:",g)}},r=()=>{a({name:s.name,description:s.description||""}),l(!1)};return e.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Application Information"}),e.jsxs(f,{variant:"outline",size:"sm",onClick:()=>l(!t),className:"hover:bg-[#4A36EC] hover:text-white",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),t?"Cancel":"Edit"]})]}),e.jsxs(k,{children:[e.jsxs(_,{children:[e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-5 h-5 text-[#4A36EC]"}),"Basic Information"]}),e.jsx(T,{children:"Application details and configuration"})]}),e.jsx(G,{className:"space-y-6",children:t?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"name",children:"Application Name"}),e.jsx(re,{id:"name",value:i.name,onChange:g=>a({...i,name:g.target.value}),placeholder:"Enter application name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"description",children:"Description"}),e.jsx(Pe,{id:"description",value:i.description,onChange:g=>a({...i,description:g.target.value}),placeholder:"Enter application description",rows:3})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{onClick:m,disabled:d.isPending,children:d.isPending?"Saving...":"Save Changes"}),e.jsx(f,{variant:"outline",onClick:r,children:"Cancel"})]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Application Name"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.description||"No description provided"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Status"}),e.jsxs("span",{className:N("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.status===1?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"),children:[e.jsx("span",{className:N("w-1.5 h-1.5 rounded-full mr-1.5",s.status===1?"bg-green-400":"bg-red-400")}),s.status===1?"Active":"Inactive"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[e.jsx(Le,{className:"w-4 h-4"}),"Created Date"]}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(s.dateAdded).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Added By"}),e.jsx("p",{className:"text-sm text-gray-900 font-mono bg-gray-50 px-2 py-1 rounded",children:s.added_by})]})]})]})})]})]})},es=()=>{const s=ye();return Re({mutationFn:t=>ze.createMenu(t),onSuccess:()=>{s.invalidateQueries({queryKey:Ke.all})}})},ss=S.object({menus:S.array(S.object({title:S.string().min(1,"Menu title is required"),status:S.number().min(0).max(1).default(1)})).min(1,"At least one menu is required")});function Y({onSubmit:s,loading:t=!1,mode:l="create",initialData:i,applicationId:a}){const d=se({resolver:ne(ss),defaultValues:{menus:i!=null&&i.length?i.map(c=>({title:c.title,status:c.status})):[{title:"",status:1}]}}),{fields:m,append:r,remove:n}=Ne({control:d.control,name:"menus"}),g=c=>{const h=c.menus.map(b=>({title:b.title,status:b.status,...l==="create"&&a&&{application_id:a}}));s(h)},j=()=>{r({title:"",status:1})},o=c=>{m.length>1&&n(c)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5 text-[#4A36EC]"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l==="create"?"Create Multiple Menus":"Update Menus"})]}),e.jsx(te,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(g),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Menus"}),e.jsxs(f,{type:"button",variant:"outline",size:"sm",onClick:j,disabled:t,className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4"}),"Add Menu"]})]}),m.map((c,h)=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h5",{className:"text-sm font-medium text-gray-700",children:["Menu ",h+1]}),m.length>1&&e.jsx(f,{type:"button",variant:"ghost",size:"sm",onClick:()=>o(h),disabled:t,className:"text-red-600 hover:text-red-700",children:e.jsx(H,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1  gap-4",children:[e.jsx(B,{control:d.control,name:`menus.${h}.title`,render:({field:b})=>e.jsxs(L,{children:[e.jsx(R,{className:"text-gray-700",children:"Menu Title *"}),e.jsx(z,{children:e.jsx(re,{...b,placeholder:"Enter menu title",className:"border-gray-200 focus:border-[#4A36EC] focus:ring-[#4A36EC]",disabled:t})}),e.jsx(K,{className:"text-red-500"})]})}),e.jsx(B,{control:d.control,name:`menus.${h}.status`,render:({field:b})=>{var A;return e.jsxs(L,{children:[e.jsx(R,{className:"text-gray-700",children:"Status"}),e.jsxs(ve,{onValueChange:u=>b.onChange(Number(u)),defaultValue:(A=b.value)==null?void 0:A.toString(),disabled:t,children:[e.jsx(z,{children:e.jsx(Ae,{className:"border-gray-200 focus:border-[#4A36EC] focus:ring-[#4A36EC]",children:e.jsx(Ce,{placeholder:"Select status"})})}),e.jsxs(Se,{children:[e.jsx(X,{value:"1",children:"Active"}),e.jsx(X,{value:"0",children:"Inactive"})]})]}),e.jsx(K,{className:"text-red-500"})]})}})]})]},c.id))]}),e.jsx("div",{className:"flex justify-end space-x-3 pt-4",children:e.jsx(f,{type:"submit",disabled:t||!d.formState.isValid,className:"bg-[#4A36EC] hover:bg-[#5B4AEE] text-white",children:t?"Saving...":l==="create"?`Create ${m.length} Menu${m.length!==1?"s":""}`:`Update ${m.length} Menu${m.length!==1?"s":""}`})})]})})]})}const ts=[{id:1,menuID:"menu-1",title:"Dashboard",added_by:"user-1",application_id:"app-1",status:1,date_added:"2024-01-01T00:00:00Z",application:{id:1,application_id:"app-1",name:"Test App",status:1,dateAdded:"2024-01-01T00:00:00Z",added_by:"user-1"}},{id:2,menuID:"menu-2",title:"User Management",added_by:"user-1",application_id:"app-1",status:1,date_added:"2024-01-01T00:00:00Z",application:{id:1,application_id:"app-1",name:"Test App",status:1,dateAdded:"2024-01-01T00:00:00Z",added_by:"user-1"}}],as=({applicationId:s})=>{const[t,l]=x.useState(ts),[i,a]=x.useState(null),[d,m]=x.useState(!1),r=U(),n=U(),{mutateAsync:g}=es(),j=async u=>{m(!0),console.log("menuDataArray =>>> ",u);const p={application_id:s,menus:u.map(y=>({title:y.title||""}))};console.log("payload =>>> ",p);try{const y=await g(p);console.log("response =>>> ",y),C.success("Menu created successfully")}catch{C.error("Failed to create menu. Please try again.")}finally{m(!1),r.close()}},o=async u=>{if(!(!i||u.length===0)){m(!0);try{const p=u[0];l(t.map(y=>y.id===i.id?{...y,...p}:y)),n.close(),a(null),C.success("Menu updated successfully")}catch(p){console.error("Error updating menu:",p),C.error("Failed to update menu. Please try again.")}finally{m(!1)}}},c=()=>{r.openForm({title:"Create New Menu",size:"md",showFooter:!1,children:e.jsx(Y,{onSubmit:j,loading:d,applicationId:s})})},h=u=>{a(u),n.openForm({title:"Update Menu",size:"md",showFooter:!1,children:e.jsx(Y,{onSubmit:o,loading:d,mode:"update",initialData:[u],applicationId:s})})},b=u=>{l(t.filter(p=>p.id!==u)),C.success("Menu deleted successfully")},A=x.useMemo(()=>[{header:"Serial",accessorKey:"serial",cell:({row:u})=>e.jsx("span",{className:"text-gray-600",children:u.index+1})},{header:"Menu Title",accessorKey:"title"},{header:"Menu ID",accessorKey:"menuID",cell:({row:u})=>e.jsx("span",{className:"font-mono text-sm bg-gray-50 px-2 py-1 rounded",children:u.original.menuID})},{header:"Status",accessorKey:"status",cell:({row:u})=>{const p=u.original.status===1;return e.jsxs("span",{className:N("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",p?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"),children:[e.jsx("span",{className:N("w-1.5 h-1.5 rounded-full mr-1.5",p?"bg-green-400":"bg-red-400")}),p?"Active":"Inactive"]})}},{header:"Created Date",accessorKey:"date_added",cell:({row:u})=>e.jsx("span",{className:"text-sm text-gray-600",children:new Date(u.original.date_added).toLocaleDateString()})},{header:"Actions",id:"actions",cell:({row:u})=>{const p=u.original;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{size:"sm",variant:"outline",className:"hover:bg-[#4A36EC] hover:text-white",onClick:()=>h(p),children:e.jsx(ie,{className:"w-4 h-4"})}),e.jsx(f,{size:"sm",variant:"outline",className:"hover:bg-red-600 hover:text-white",onClick:()=>b(p.id),children:e.jsx(H,{className:"w-4 h-4"})})]})}}],[]);return e.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Application Menus"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage menus and navigation items for this application"})]}),e.jsxs(f,{onClick:c,className:"bg-[#4A36EC] hover:bg-[#3A2BDC] text-white",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Add Menu"]})]}),e.jsxs(k,{children:[e.jsxs(_,{children:[e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5 text-[#4A36EC]"}),"Menu List"]}),e.jsx(T,{children:"All menus associated with this application"})]}),e.jsx(G,{children:e.jsx(ae,{data:t,columns:A})})]})]})},Ns=()=>{const{applicationId:s}=Me(),t=we(),[l,i]=x.useState("info"),{data:a,isLoading:d}=Ge(),m=x.useMemo(()=>a==null?void 0:a.data,[a==null?void 0:a.data]),r=d,n=x.useMemo(()=>m==null?void 0:m.find(j=>j.application_id===s),[m,s]),g=x.useMemo(()=>[{label:"Access Management",href:`/${E.ACCESS_MANAGEMENT.BASE}`},{label:"Applications",href:`/${E.ACCESS_MANAGEMENT.BASE}/${E.ACCESS_MANAGEMENT.APPLICATION.BASE}`},{label:(n==null?void 0:n.name)||"Application Details",href:"#"}],[n==null?void 0:n.name]);return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4A36EC]"})}):n?e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsx(Ee,{items:g}),e.jsx(ke,{title:e.jsxs("div",{className:"flex items-center gap-2",children:[n.name,e.jsxs("span",{className:N("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",n.status===1?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"),children:[e.jsx("span",{className:N("w-1.5 h-1.5 rounded-full mr-1.5",n.status===1?"bg-green-400":"bg-red-400")}),n.status===1?"Active":"Inactive"]})]}),description:"Application Details & Management"}),e.jsxs(k,{children:[e.jsxs(_,{children:[e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-5 h-5 text-[#4A36EC]"}),"Application Overview"]}),e.jsx(T,{children:"Manage application details, menus, and group assignments"})]}),e.jsx(G,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Created"}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(n.dateAdded).toLocaleDateString()})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-900",children:n.description||"No description provided"})]})]})})]}),e.jsxs(_e,{value:l,onValueChange:i,className:"space-y-6",children:[e.jsxs(Ie,{className:"grid w-full grid-cols-3",children:[e.jsxs(P,{value:"info",className:"flex items-center gap-2",children:[e.jsx(Te,{className:"w-4 h-4"}),"Application Info"]}),e.jsxs(P,{value:"menus",className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4"}),"Menus"]}),e.jsxs(P,{value:"groups",className:"flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4"}),"Groups"]})]}),e.jsx(F,{value:"info",className:"space-y-6",children:e.jsx(Ye,{application:n})}),e.jsx(F,{value:"menus",className:"space-y-6",children:e.jsx(as,{applicationId:n.application_id})}),e.jsx(F,{value:"groups",className:"space-y-6",children:e.jsx(We,{applicationId:n.application_id})})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Application not found"}),e.jsx(f,{onClick:()=>t(`/${E.ACCESS_MANAGEMENT.BASE}/${E.ACCESS_MANAGEMENT.APPLICATION.BASE}`),children:"Back to Applications"})]})};export{Ns as default};
